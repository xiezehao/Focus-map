<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>焦点图</title>
		<style type="text/css">
			*{
				margin: 0px;
				padding: 0px;
			}
			#box{
				width: 790px;
				height: 340px;
				float: left;
				position:relative;
			}
			ul{
				margin: 0px;
				padding: 0px;
				width: 790px;
				height: 340px;
				float: left;
				
			}
			li{
				margin: 0px;
				position: absolute;
				list-style-type: none;
				z-index: 1;
				opacity: 0;
			}
			.buttons{
				width: 200px;
				height: 25px;
				position: absolute;
				z-index: 2;
				right: 0;
				bottom: 0;
			}
			
			.buttons button{
				width: 23px;
				height: 23px;
			}
			
			.left,.right{
				width: 50px;
				height: 340px;
				display: none;
				position:absolute;
				
			}
			.left img,.right img{
				width: 50px;
				height: 50px;
				position:absolute;
				z-index: 1;
				margin-top: 145px;
				cursor: pointer;
			}
			
			.left{
				left: 0;
			}
			
			.right{
				right: 0;
			}
			
		</style>
	</head>
	<body>
		<div id="box" onmouseover="mouseOver()" onmouseout="mouseOut()">
			<ul>
				<li><img src="img/1.jpg"/></li>
				<li><img src="img/2.jpg"/></li>
				<li><img src="img/3.jpg"/></li>
				<li><img src="img/4.jpg"/></li>
				<li><img src="img/5.jpg"/></li>
				<li><img src="img/6.jpg"/></li>
				<li><img src="img/7.jpg"/></li>
			</ul>
			
			<div class="buttons">
				<button name="button" value="0" onclick="check(0)">1</button>
				<button name="button" value="1" onclick="check(1)">2</button>
				<button name="button" value="2" onclick="check(2)">3</button>
				<button name="button" value="3" onclick="check(3)">4</button>
				<button name="button" value="4" onclick="check(4)">5</button>
				<button name="button" value="5" onclick="check(5)">6</button>
				<button name="button" value="6" onclick="check(6)">7</button>
			</div>
			<div class="right" id="right">
				<img src="img/右箭头.png"/>
			</div>
			<div class="left" id="left">
				<img src="img/左箭头.png"/>
			</div>
			
			
			
		</div>
		
		<script type="text/javascript">
			var left=document.getElementById("left");
			var right=document.getElementById("right");
			var li=document.getElementsByTagName("li");
			li[0].style.opacity="1";
			var i=0;//记录图片标志
			var time=4;
			
			function go(value){
				if(value!=null){
					i=value;
				}
				for (var k=0;k<=6;k++) {
					li[k].style.opacity="0";
				}
				
				li[i].style.opacity="1";
				i++;
				
				if(i==7){
					i=0;
				}
//				console.log(i);
			}
			
			setInterval(go,1000*time);
			
			function check (value) {
				clearInterval();
				li[value].style.opacity="1";
				setInterval(go(value),1000*time);
			}
			
			function mouseOver () {
				left.style.display="block";
				right.style.display="block";
			}
			
			function mouseOut () {
				left.style.display="none";
				right.style.display="none";
			}
			
			left.onclick=function(){
				
				clearInterval();
//				console.log(i);
				if(i==1){
					i=6;
				}else{
					i-=2;
				}
				
				if(i<0){
					i=0;
				}
//				console.log(i);
				li[i].style.opacity="1";
				setInterval(go(i),1000*time);
				
			}
			
			right.addEventListener("click",function(){
				clearInterval();
//				console.log(i);
				if(i==6){
					i=0;
				}
//				console.log(i);
				li[i].style.opacity="1";
				setInterval(go(i),1000*time);
			});
			
		</script>
	</body>
</html>
